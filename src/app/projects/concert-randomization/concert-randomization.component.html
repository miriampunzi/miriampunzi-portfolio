<app-project-cover title="Concert Randomization" image="assets/images/project-covers/Cover ConcertRandomization.jpg">
</app-project-cover>

<div class="container containerSections">
    <app-info-section projectName="concertrandomization"></app-info-section>

    <!-- Problem -->
    <section>
    <app-page-section sectionTitle="Problem">
        We want to train a neural network that applies <label class="label-strong">semantic segmentation</label> to concert photos to classify: musicians, musical instruments, stage decorations, etc.
    </app-page-section>

    <app-page-section>
        <app-arrow-images imgBefore="assets/images/Projects/concert-randomization/before-segmentation.jpg" imgAfter="/assets/images/Projects/concert-randomization/after-segmentation.jpg"></app-arrow-images>
    </app-page-section>

    <app-page-section>
        Thousands of images (original and labeled ones) are needed (<label class="label-strong">Supervised Learning</label>)
But: the images are labeled by hand using a lot of patience!!
    </app-page-section>
    </section>

    <!-- Idea -->
    <section>
        <app-page-section sectionTitle="Idea">
            <label class="label-strong">Automate the process!</label> The program:

            <ul>
                <li>
                    Generates random concert scenarios (random locations, musicians, musical instruments, ... with random shapes, textures and animations)
                </li>
                <li>
                    Takes N snapshots of the generated scenario from random viewpoints
                </li>
                <li>
                    Annotates the photos automatically.
                </li>
            </ul>
            To improve the network accuracy and avoid over-fitting, the concert scenarios to generate have to be as varied as possible:
            <ul class="list-no-margin">
                <li>
                    random places, people, musical instruments, objects
                </li>
                <li>
                    random positions, textures, shapes
                </li>
                <li>
                    random special effects, lights
                </li>
            </ul>
        </app-page-section>

        <app-page-section>
            <app-arrow-images imgBefore="assets/images/Projects/concert-randomization/before-segmentation-2.jpg" imgAfter="/assets/images/Projects/concert-randomization/after-segmentation-2.jpg"></app-arrow-images>
        </app-page-section>
    </section>

    <!-- Elements to randomize-->
    <section>
        <app-page-section sectionTitle="Elements to Randomize"></app-page-section>
    
        <app-page-section sectionSubtitle="Places">
            <div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4">
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/place-01.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/place-02.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/place-03.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/place-04.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/place-05.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/place-06.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/place-07.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/place-08.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/place-09.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/place-10.jpg"></div>
            </div>
        </app-page-section>

        <app-page-section sectionSubtitle="People">
            <!-- <div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4">
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/place-01.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/place-02.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/place-03.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/place-04.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/place-05.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/place-06.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/place-07.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/place-08.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/place-09.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/place-10.jpg"></div>
            </div> -->
            mettere HOW
        </app-page-section>

        <app-page-section sectionSubsubtitle="Body shape randomization">
            <div class="row g-4">
                <div class="col-2"><img class="img-fluid" src="assets/images/Projects/concert-randomization/body-01.jpg"></div>
                <div class="col-2"><img class="img-fluid" src="assets/images/Projects/concert-randomization/body-02.jpg"></div>
                <div class="col-2"><img class="img-fluid" src="assets/images/Projects/concert-randomization/body-03.jpg"></div>
                <div class="col-2"><img class="img-fluid" src="assets/images/Projects/concert-randomization/body-04.jpg"></div>
            </div>
        </app-page-section>

        <app-page-section sectionSubsubtitle="Texture randomization">
            <div class="row g-4">
                <div class="col-2"><img class="img-fluid" src="assets/images/Projects/concert-randomization/texture-01.jpg"></div>
                <div class="col-2"><img class="img-fluid" src="assets/images/Projects/concert-randomization/texture-02.jpg"></div>
                <div class="col-2"><img class="img-fluid" src="assets/images/Projects/concert-randomization/texture-03.jpg"></div>
                <div class="col-2"><img class="img-fluid" src="assets/images/Projects/concert-randomization/texture-04.jpg"></div>
            </div>
        </app-page-section>

        <app-page-section sectionSubtitle="Musical instruments">
            <div class="row g-4">
                <div class="col-2"><img class="img-fluid" src="assets/images/Projects/concert-randomization/instrument-01.jpg"></div>
                <div class="col-2"><img class="img-fluid" src="assets/images/Projects/concert-randomization/instrument-02.jpg"></div>
                <div class="col-2"><img class="img-fluid" src="assets/images/Projects/concert-randomization/instrument-03.jpg"></div>
                <div class="col-2"><img class="img-fluid" src="assets/images/Projects/concert-randomization/instrument-04.jpg"></div>
            </div>
        </app-page-section>

        <app-page-section sectionSubtitle="Objects">
            <div class="row g-4">
                <div class="col-1"><img class="img-fluid" src="assets/images/Projects/concert-randomization/object-01.jpg"></div>
                <div class="col-1"><img class="img-fluid" src="assets/images/Projects/concert-randomization/object-03.jpg"></div>
                <div class="col-1"><img class="img-fluid" src="assets/images/Projects/concert-randomization/object-04.jpg"></div>
                <div class="col-1"><img class="img-fluid" src="assets/images/Projects/concert-randomization/object-05.jpg"></div>
                <div class="col-1"><img class="img-fluid" src="assets/images/Projects/concert-randomization/object-06.jpg"></div>
                <div class="col-1"><img class="img-fluid" src="assets/images/Projects/concert-randomization/object-08.jpg"></div>
            </div>
        </app-page-section>

        <app-page-section sectionSubtitle="Smoke">
            <div class="row g-4">
                <div class="col-4"><img class="img-fluid" src="assets/images/Projects/concert-randomization/smoke-01.jpg"></div>
                <div class="col-4"><img class="img-fluid" src="assets/images/Projects/concert-randomization/smoke-02.jpg"></div>
            </div>
        </app-page-section>

        <app-page-section sectionSubtitle="Lights">
            <div class="row g-4">
                <div class="col-4"><img class="img-fluid" src="assets/images/Projects/concert-randomization/lights-01.jpg"></div>
                <div class="col-4"><img class="img-fluid" src="assets/images/Projects/concert-randomization/lights-02.jpg"></div>
            </div>
        </app-page-section>

        <app-page-section sectionSubtitle="Sky">
            <div class="row g-4">
                <div class="col-4"><img class="img-fluid" src="assets/images/Projects/concert-randomization/sky-01.jpg"></div>
                <div class="col-4"><img class="img-fluid" src="assets/images/Projects/concert-randomization/sky-02.jpg"></div>
            </div>
        </app-page-section>
    </section>

    <!-- Implementation-->
    <section>
        <app-page-section sectionTitle="Implementation"></app-page-section>
    
        <app-page-section sectionSubsubtitle="Labelling of all the elements of the scene">
            <div class="row">
                <div class="col-6">
                    <img class="img-fluid" src="assets/images/Projects/concert-randomization/labelling.jpg">
                </div>
            </div>
            

            We used this classification:

            <div class="row">
                <div class="col-6">
                    <img class="img-fluid" src="assets/images/Projects/concert-randomization/classification.jpg">
                </div>
            </div>

        </app-page-section>

        <app-page-section sectionSubsubtitle="Placement of spawning points inside the scene">
            <ul>
                <li>Musician Spawn Point: Select type of musician (singer, guitar, piano, drums, cello, violin, ...)</li>
                <li>Dancer Spawn Point: Select dance modality (sitted on a chair, sitted on the ground, standing)</li>
                <li>Object Spawn Point: Select type of object</li>
                <li>Smoke Spawn Point</li>
            </ul>

            <div class="row g-4">
                <div class="col-4"><img class="img-fluid" src="assets/images/Projects/concert-randomization/spawning-points-01.jpg"></div>
                <div class="col-4"><img class="img-fluid" src="assets/images/Projects/concert-randomization/spawning-points-02.jpg"></div>
            </div>
        </app-page-section>

        <app-page-section sectionSubsubtitle="Crowd setup">
            Place a crowd in the scene, which will contain random people (with random textures and body shapes), with random separation and density between them.

            <div class="row row-cols-1 row-cols-md-2 g-4">
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/crowd-setup-01.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/crowd-setup-02.jpg"></div>
            </div>
        </app-page-section>

        <app-page-section sectionSubsubtitle="Light setup">
            Decide with lights are going to have: random colors, intensity, orientation and spot angles.

            <div class="row">
                <div class="col-6">
                    <img class="img-fluid" src="assets/images/Projects/concert-randomization/light-setup.jpg">
                </div>
            </div>

        </app-page-section>

        <app-page-section sectionSubsubtitle="Timeline setup">
            METTERE USED

            <img class="img-fluid" src="assets/images/Projects/concert-randomization/timeline-setup.jpg">
        </app-page-section>

        <app-page-section sectionSubsubtitle="Postprocessing">
            <div class="row row-cols-1 row-cols-md-2 g-4">
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/pre-postprocessing.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/after-postprocessing.jpg"></div>
            </div>
        </app-page-section>

        <app-page-section sectionSubsubtitle="Algorithm (pseudocode)">
            <img class="img-fluid" src="assets/images/Projects/concert-randomization/algorithm.jpg">

            Only write the number of how many snapshots you want to generate (numCaptures), and then click play.
        </app-page-section>

        <!-- TODO code section -->

        <app-page-section sectionSubsubtitle="When you launch the program, you're gonna see something like this...">
            VIDEO
        </app-page-section>
    </section>

    <!-- Development -->
    <section>
        <app-page-section sectionTitle="Development"></app-page-section>

        <app-page-section sectionSubtitle="Classes"></app-page-section>

        <app-page-section sectionSubsubtitle="SpawnPoint">
            Abstract class for the spawning points with the method <label class="label-strong">OnDrawGizmos()</label> to be defined in the subclasses
            
            <div class="row row-cols-1 row-cols-md-2 g-4">
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/class-01.jpg"></div>
                <div class="col"><img class="img-fluid" src="assets/images/Projects/concert-randomization/class-02.jpg"></div>
            </div>
            
            IMMAGINI DIDASCALIE        
        </app-page-section>

        <app-page-section sectionSubsubtitle="ConcertElement">
            Abstract class for any kind of element that appear and the scene (Musicians, Dancers, Objects, Places, Smokes) and that can be randomized. It contains the method <label class="label-strong">Randomize()</label>.      
        </app-page-section>

        <app-page-section sectionSubsubtitle="ConcertObject">
            tabella
        </app-page-section>

        <app-page-section sectionSubsubtitle="LightObject">
            Randomize():
            <ul>
                <li>color</li>
                <li>intensity</li>
                <li>spot angle</li>
                <li>range</li>
            </ul>
        </app-page-section>

        <app-page-section sectionSubsubtitle="MusicalInstrument">
            Randomize():
            <ul>
                <li>colors/materials</li>
            </ul>
        </app-page-section>

        <app-page-section sectionSubsubtitle="Person">
            tabella
        </app-page-section>

        <app-page-section sectionSubsubtitle="Dancer">
            tabella
        </app-page-section>

        <app-page-section sectionSubsubtitle="Musician">
            tabella
        </app-page-section>

        <app-page-section sectionSubsubtitle="Place">
            tabella
        </app-page-section>

        <app-page-section sectionSubsubtitle="SkyConcert">
            tabella
        </app-page-section>

        <app-page-section sectionSubsubtitle="SmokeConcert">
            tabella
        </app-page-section>

        <app-page-section sectionSubsubtitle="Configuration">
            tabella
        </app-page-section>

        <app-page-section sectionSubsubtitle="DB">
            Loads and save in lists all the places, dancers, musicians, objects, skies, human textures, to speed up the process of generating the images
        </app-page-section>

        <app-page-section sectionSubsubtitle="SegmentationObject">
            To set the label for each gameobject.
        </app-page-section>

        <app-page-section sectionSubsubtitle="SemanticLabeler">
            TakeSnapshot():
            <ol>
                <li>Saves in the folder \images the camera rendering in a .png file
                </li>
                <li>Substitutes the materials of all the objects with the label materials
                </li>
                <li>Saves in the folder \labels the camera rendering in a .png file
                </li>
                <li>Restore the original materials of all the objects
                </li>
            </ol>
        </app-page-section>

        <app-page-section sectionSubtitle="Animation generation">
            <app-arrow-images imgBefore="assets/images/Projects/concert-randomization/animation-generation-01.jpg" imgAfter="/assets/images/Projects/concert-randomization/animation-generation-02.jpg"></app-arrow-images>
        </app-page-section>
    </section>

    <!-- Testing -->
    <section>
        <app-page-section sectionTitle="Testing"></app-page-section>

        <app-page-section sectionSubtitle="Generated data">
            <img class="img-fluid" src="assets/images/Projects/concert-randomization/generated-data.jpg">
            10.000 images with the correspondent labeled ones
        </app-page-section>

        <app-page-section sectionSubtitle="Data preparation">
            TABELLA

            <img class="img-fluid" src="assets/images/Projects/concert-randomization/class-balancing.jpg">
        </app-page-section>

        <app-page-section sectionSubtitle="Network used">
            USED

            <ul>
                <li>Deeplab v3+: convolutional neural network (CNN) designed for semantic image segmentation
                </li>
                <li>Resnet-18: pre-trained network that initializes the weights for Deeplab v3+
                </li>
            </ul>
        </app-page-section>

        <app-page-section sectionSubtitle="Results">
            With only 200 images:
            <img class="img-fluid" src="assets/images/Projects/concert-randomization/results-01.jpg">

            Test the network on one image:
            <img class="img-fluid" src="assets/images/Projects/concert-randomization/results-02.jpg">

            The green and magenta regions highlight areas where the segmentation results differ from the expected ground truth
        </app-page-section>
    </section>